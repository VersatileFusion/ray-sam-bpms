# ุณุณุชู ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง ุฑุงุณุง ู ุณุงูุงุฑ

## ๐ ูุนุฑู ูพุฑูฺู

ุงู ูพุฑูฺู ฺฉ ุณุณุชู ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง ุชุญุช ูุจ ุงุณุช ฺฉู ุจุฑุง ูุฏุฑุช ู ูพฺฏุฑ ุฏุฑุฎูุงุณุชโูุง ูุดุชุฑุงู ุฏุฑ ุณุณุชูโูุง ูุฎุชูู ุทุฑุงุญ ุดุฏู ุงุณุช. ุงู ุณุณุชู ุงูฺฉุงู ุซุจุชุ ูุฑุงุดุ ุฌุณุชุฌู ู ฺฏุฒุงุฑุดโฺฏุฑ ุงุฒ ุฏุฑุฎูุงุณุชโูุง ุฑุง ูุฑุงูู ูโฺฉูุฏ.

## ๐ ูฺฺฏโูุง ุงุตู

### ๐ ุณุณุชู ุงุญุฑุงุฒ ููุช
- ูุฑูุฏ ู ุฎุฑูุฌ ุงูู ุจุง ุงุณุชูุงุฏู ุงุฒ Session
- ูุฏุฑุช ฺฉุงุฑุจุฑุงู ุจุง ููุดโูุง ูุฎุชูู (ฺฉุงุฑุจุฑ ุนุงุฏ ู ุงุฏูู)
- ุฑูุฒฺฏุฐุงุฑ ุฑูุฒูุง ุนุจูุฑ ุจุง bcrypt
- ูุญุงูุธุช ุงุฒ ูุณุฑูุง ุญุณุงุณ

### ๐ ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง
- ุซุจุช ุฏุฑุฎูุงุณุชโูุง ุฌุฏุฏ ุจุง ูุฑู ุฌุงูุน
- ูุฑุงุด ุฏุฑุฎูุงุณุชโูุง ููุฌูุฏ
- ูพฺฏุฑ ุชุงุฑุฎฺู ุชุบุฑุงุช
- ุฌุณุชุฌู ูพุดุฑูุชู ุฏุฑ ุฏุฑุฎูุงุณุชโูุง
- ููุชุฑ ฺฉุฑุฏู ุจุฑ ุงุณุงุณ ูุนุงุฑูุง ูุฎุชูู

### ๐ ฺฏุฒุงุฑุดโฺฏุฑ
- ุชููุฏ ฺฏุฒุงุฑุดโูุง Excel
- ููุชุฑ ฺฉุฑุฏู ุฏุงุฏูโูุง ูุจู ุงุฒ ฺฏุฒุงุฑุดโฺฏุฑ
- ููุงุด ุขูุงุฑ ู ุงุทูุงุนุงุช ุชูุตู

### ๐ฑ ุฑุงุจุท ฺฉุงุฑุจุฑ
- ุทุฑุงุญ ุฑุณูพุงูุณู ู ุณุงุฒฺฏุงุฑ ุจุง ููุจุงู
- ุงุณุชูุงุฏู ุงุฒ ุชููู ุดูุณ
- ุฑุงุจุท ฺฉุงุฑุจุฑ ูุงุฑุณ ู ุฑุงุณุชโฺู
- ุงุณุชูุงุฏู ุงุฒ ูููุช Vazirmatn ุจุฑุง ููุงุด ุจูุชุฑ ูุชู ูุงุฑุณ

### ๐จ ุงุนูุงูโูุง
- ุงุฑุณุงู ูพุงูฺฉ ุฎูุฏฺฉุงุฑ ููฺฏุงู ุซุจุช ุฏุฑุฎูุงุณุช ุฌุฏุฏ
- ุงุณุชูุงุฏู ุงุฒ ุณุฑูุณ SMS.ir

## ๐ ุชฺฉููููฺโูุง ุงุณุชูุงุฏู ุดุฏู

### Backend
- **Node.js** - ูุญุท ุงุฌุฑุง JavaScript
- **Express.js** - ูุฑููุฑฺฉ ูุจ
- **MongoDB** - ูพุงฺฏุงู ุฏุงุฏู NoSQL
- **Mongoose** - ODM ุจุฑุง MongoDB
- **bcryptjs** - ุฑูุฒฺฏุฐุงุฑ ุฑูุฒูุง ุนุจูุฑ
- **express-session** - ูุฏุฑุช Session
- **cors** - ูุฏุฑุช CORS
- **dotenv** - ูุฏุฑุช ูุชุบุฑูุง ูุญุท
- **jalali-moment** - ฺฉุงุฑ ุจุง ุชุงุฑุฎ ุดูุณ
- **smsir-js** - ุงุฑุณุงู ูพุงูฺฉ
- **xlsx** - ุชููุฏ ูุงูโูุง Excel

### Frontend
- **HTML5** - ุณุงุฎุชุงุฑ ุตูุญุงุช
- **CSS3** - ุงุณุชุงูโุฏู
- **JavaScript (ES6+)** - ููุทู ุณูุช ฺฉูุงูุช
- **Bootstrap 5** - ูุฑููุฑฺฉ CSS
- **SweetAlert2** - ููุงุด ูพุงูโูุง ู ูุฑูโูุง
- **jQuery** - ฺฉุชุงุจุฎุงูู JavaScript
- **XLSX.js** - ุชููุฏ ูุงูโูุง Excel ุฏุฑ ูุฑูุฑฺฏุฑ

### ุงุจุฒุงุฑูุง ุชูุณุนู
- **Nodemon** - ุฑุงูโุงูุฏุงุฒ ูุฌุฏุฏ ุฎูุฏฺฉุงุฑ ุณุฑูุฑ ุฏุฑ ุญุงูุช ุชูุณุนู

## ๐ ุณุงุฎุชุงุฑ ูพุฑูฺู

```
ray-sam/
โโโ index.js                 # ูุงู ุงุตู ุณุฑูุฑ
โโโ sms.js                   # ูุงฺูู ุงุฑุณุงู ูพุงูฺฉ
โโโ package.json             # ูุงุจุณุชฺฏโูุง ูพุฑูฺู
โโโ customers.json           # ูุณุช ูุดุชุฑุงู
โโโ models/                  # ูุฏูโูุง ูพุงฺฏุงู ุฏุงุฏู
โ   โโโ User.js             # ูุฏู ฺฉุงุฑุจุฑ
โ   โโโ Request.js          # ูุฏู ุฏุฑุฎูุงุณุช
โ   โโโ RequestHistory.js   # ูุฏู ุชุงุฑุฎฺู ุชุบุฑุงุช
โโโ public/                  # ูุงูโูุง ุงุณุชุงุชฺฉ
    โโโ index.html          # ุตูุญู ุงุตู
    โโโ login.html          # ุตูุญู ูุฑูุฏ
```

## ๐ ุณุงุฎุชุงุฑ ูพุงฺฏุงู ุฏุงุฏู

### ูุฏู User
```javascript
{
  username: String,      // ูุงู ฺฉุงุฑุจุฑ (ฺฉุชุง)
  password: String,      // ุฑูุฒ ุนุจูุฑ (ุฑูุฒฺฏุฐุงุฑ ุดุฏู)
  name: String,          // ูุงู ฺฉุงูู
  role: String,          // ููุด (user/admin)
  isActive: Boolean,     // ูุถุนุช ูุนุงู/ุบุฑูุนุงู
  lastLogin: Date,       // ุขุฎุฑู ูุฑูุฏ
  createdAt: Date        // ุชุงุฑุฎ ุงุฌุงุฏ
}
```

### ูุฏู Request
```javascript
{
  date: String,                    // ุชุงุฑุฎ ุฏุฑุฎูุงุณุช
  customerName: String,            // ูุงู ูุดุชุฑ
  userName: String,                // ูุงู ฺฉุงุฑุจุฑ
  system: String,                  // ุณุณุชู ูุฑุจูุทู
  request: String,                 // ูุชู ุฏุฑุฎูุงุณุช
  requestType: String,             // ููุน ุฏุฑุฎูุงุณุช
  actionDescription: String,       // ุดุฑุญ ุงูุฏุงู
  closeDescription: String,        // ุดุฑุญ ุจุณุชู ุฏุฑุฎูุงุณุช
  status: String,                  // ูุถุนุช (ุงูุฌุงู/ุจุงุฒ/ุฏุฑ ุฏุฑุณุช ุงูุฏุงู)
  createdBy: {                     // ุงุทูุงุนุงุช ุงุฌุงุฏฺฉููุฏู
    userId: ObjectId,
    name: String,
    timestamp: Date
  },
  lastModifiedBy: {                // ุงุทูุงุนุงุช ุขุฎุฑู ูุฑุงุดโฺฉููุฏู
    userId: ObjectId,
    name: String,
    timestamp: Date
  },
  createdAt: Date,                 // ุชุงุฑุฎ ุงุฌุงุฏ
  updatedAt: Date                  // ุชุงุฑุฎ ุขุฎุฑู ูุฑุงุด
}
```

### ูุฏู RequestHistory
```javascript
{
  requestId: ObjectId,             // ุดูุงุณู ุฏุฑุฎูุงุณุช
  changedFields: [{                // ููุฏูุง ุชุบุฑ ุงูุชู
    field: String,                 // ูุงู ููุฏ
    oldValue: Mixed,               // ููุฏุงุฑ ูุจู
    newValue: Mixed                // ููุฏุงุฑ ุฌุฏุฏ
  }],
  modifiedBy: {                    // ุงุทูุงุนุงุช ูุฑุงุดโฺฉููุฏู
    userId: ObjectId,
    name: String,
    timestamp: Date
  },
  timestamp: Date                  // ุฒูุงู ุชุบุฑ
}
```

## ๐ง ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง
- Node.js (ูุณุฎู 14 ุง ุจุงูุงุชุฑ)
- MongoDB (ูุญู ุง Atlas)
- Git

### ูุฑุงุญู ูุตุจ

1. **ฺฉููู ฺฉุฑุฏู ูพุฑูฺู:**
```bash
git clone <repository-url>
cd ray-sam
```

2. **ูุตุจ ูุงุจุณุชฺฏโูุง:**
```bash
npm install
```

3. **ุชูุธู ูุชุบุฑูุง ูุญุท:**
ูุงู `.env` ุง `atlas.env` ุงุฌุงุฏ ฺฉูุฏ:
```env
MONGODB_URI=mongodb://localhost:27017/ray-sam
# ุง ุจุฑุง MongoDB Atlas:
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/ray-sam

SESSION_SECRET=your-secret-key-here
PORT=3000
NODE_ENV=development
```

4. **ุฑุงูโุงูุฏุงุฒ ุณุฑูุฑ:**
```bash
# ุญุงูุช ุชูุณุนู
npm run dev

# ุญุงูุช ุชููุฏ
npm start
```

5. **ุฏุณุชุฑุณ ุจู ุณุณุชู:**
- ุขุฏุฑุณ: `http://localhost:3000`
- ฺฉุงุฑุจุฑุงู ูพุดโูุฑุถ ุฏุฑ ุฌุฏูู ุฒุฑ ุขูุฏู ุงุณุช

## ๐ฅ ฺฉุงุฑุจุฑุงู ูพุดโูุฑุถ

| ูุงู ฺฉุงุฑุจุฑ | ุฑูุฒ ุนุจูุฑ | ูุงู | ููุด |
|------------|----------|-----|-----|
| miladi | Miladi@2024! | Miladi | user |
| yazdani | Yazdani@2024! | Yazdani | user |
| ghasemi | Ghasemi@2024! | Ghasemi | user |
| ahmadvand | Ahmadvand@2024! | Ahmadvand | user |
| mohades | Mohades@2024! | Mohades | user |
| admin | Admin@2024! | Administrator | admin |

## ๐ API Endpoints

### ุงุญุฑุงุฒ ููุช
- `POST /api/auth/login` - ูุฑูุฏ ุจู ุณุณุชู
- `POST /api/auth/logout` - ุฎุฑูุฌ ุงุฒ ุณุณุชู
- `GET /api/auth/me` - ุฏุฑุงูุช ุงุทูุงุนุงุช ฺฉุงุฑุจุฑ ูุนู

### ูุฏุฑุช ุฏุฑุฎูุงุณุชโูุง
- `POST /api/requests` - ุงุฌุงุฏ ุฏุฑุฎูุงุณุช ุฌุฏุฏ
- `GET /api/requests` - ุฏุฑุงูุช ุชูุงู ุฏุฑุฎูุงุณุชโูุง
- `GET /api/requests/search` - ุฌุณุชุฌู ุฏุฑุฎูุงุณุชโูุง
- `PUT /api/requests/:id` - ูุฑุงุด ุฏุฑุฎูุงุณุช
- `GET /api/requests/:id/history` - ุฏุฑุงูุช ุชุงุฑุฎฺู ุชุบุฑุงุช

### ุณุงุฑ
- `GET /api/health` - ุจุฑุฑุณ ูุถุนุช ุณุฑูุฑ

## ๐ฑ ูฺฺฏโูุง ุฑุงุจุท ฺฉุงุฑุจุฑ

### ุตูุญู ูุฑูุฏ
- ูุฑู ูุฑูุฏ ุณุงุฏู ู ุงูู
- ุจุฑุฑุณ ุฎูุฏฺฉุงุฑ ูุฑูุฏ ูุจู
- ููุงุด ูพุงูโูุง ุฎุทุง

### ุตูุญู ุงุตู
- ูุฑู ุซุจุช ุฏุฑุฎูุงุณุช ุฌุฏุฏ
- ุฌุฏูู ููุงุด ุฏุฑุฎูุงุณุชโูุง
- ุฏฺฉููโูุง ุฌุณุชุฌู ู ฺฏุฒุงุฑุดโฺฏุฑ
- ุงูฺฉุงู ูุฑุงุด inline
- ููุงุด ุชุงุฑุฎฺู ุชุบุฑุงุช

### ูฺฺฏโูุง ุฎุงุต
- ุงุณุชูุงุฏู ุงุฒ ุชููู ุดูุณ
- ุชุจุฏู ุฎูุฏฺฉุงุฑ ุชุงุฑุฎ ุดูุณ ุจู ููุงุฏ
- ููุงุด ูุถุนุช ุฏุฑุฎูุงุณุชโูุง ุจุง ุฑูฺฏโุจูุฏ
- ุชููุฏ ฺฏุฒุงุฑุด Excel
- ุงุฑุณุงู ูพุงูฺฉ ุฎูุฏฺฉุงุฑ

## ๐ ุงููุช

### ุงุญุฑุงุฒ ููุช
- ุงุณุชูุงุฏู ุงุฒ Session ุจุฑุง ูุฏุฑุช ูุฑูุฏ
- ุฑูุฒฺฏุฐุงุฑ ุฑูุฒูุง ุนุจูุฑ ุจุง bcrypt
- ูุญุงูุธุช ุงุฒ ูุณุฑูุง ุญุณุงุณ ุจุง middleware

### CORS
- ุชูุธู CORS ุจุฑุง ุฏุงูููโูุง ูุฌุงุฒ
- ูพุดุชุจุงู ุงุฒ ุฏุฑุฎูุงุณุชโูุง cross-origin

### ุงุนุชุจุงุฑุณูุฌ
- ุงุนุชุจุงุฑุณูุฌ ูุฑูุฏโูุง ุฏุฑ ุณูุช ุณุฑูุฑ
- ุจุฑุฑุณ ูุฌูุฏ ููุฏูุง ุงุฌุจุงุฑ
- ุงุนุชุจุงุฑุณูุฌ ูุฑูุช ุชุงุฑุฎ

## ๐ ุณุณุชูโูุง ูพุดุชุจุงู ุดุฏู

- **ูุงู** - ุณุณุชูโูุง ูุงู ู ุญุณุงุจุฏุงุฑ
- **ุงูุจุงุฑ** - ูุฏุฑุช ุงูุจุงุฑ ู ููุฌูุฏ
- **ูุฑูุด** - ุณุณุชูโูุง ูุฑูุด ู CRM
- **ุฏุฑุงูุช ู ูพุฑุฏุงุฎุช** - ูุฏุฑุช ูุงู
- **ุณุงูุงุฑ** - ุณุณุชูโูุง ุชุฎุตุต

## ๐ ูุถุนุชโูุง ุฏุฑุฎูุงุณุช

- **ุจุงุฒ** - ุฏุฑุฎูุงุณุช ุฌุฏุฏ ู ุจุงุฒ
- **ุฏุฑ ุฏุฑุณุช ุงูุฏุงู** - ุฏุฑ ุญุงู ุงูุฌุงู
- **ุงูุฌุงู** - ุชฺฉูู ุดุฏู

## ๐ ุงุณุชูุฑุงุฑ (Deployment)

### Render.com
ูพุฑูฺู ุจุฑุง ุงุณุชูุฑุงุฑ ุฑู Render.com ุขูุงุฏู ุดุฏู ุงุณุช:

1. ุงุชุตุงู ุจู GitHub repository
2. ุชูุธู ูุชุบุฑูุง ูุญุท ุฏุฑ Render
3. ุงูุชุฎุงุจ Node.js ุจู ุนููุงู runtime
4. ุชูุธู Build Command: `npm install`
5. ุชูุธู Start Command: `npm start`

### ูุชุบุฑูุง ูุญุท ููุฑุฏ ูุงุฒ
```env
MONGODB_URI=mongodb+srv://...
SESSION_SECRET=your-secret-key
NODE_ENV=production
PORT=3000
```

## ๐ง ุชูุธูุงุช ูพุงูฺฉ

ุจุฑุง ูุนุงูโุณุงุฒ ุงุฑุณุงู ูพุงูฺฉ:

1. ุซุจุชโูุงู ุฏุฑ ุณุฑูุณ SMS.ir
2. ุฏุฑุงูุช API Key
3. ุชูุธู ุดูุงุฑู ุฎุท ุฏุฑ ูุงู `sms.js`:
```javascript
const SMS_API_KEY = "your-api-key";
const LINE_NUMBER = 30004802149089;
const USERS_PHONE_NUMBERS = ["09109924707"];
```

## ๐ ุนุจโุงุจ

### ูุดฺฉูุงุช ุฑุงุฌ

1. **ุฎุทุง ุงุชุตุงู ุจู ูพุงฺฏุงู ุฏุงุฏู:**
   - ุจุฑุฑุณ ุตุญุช MONGODB_URI
   - ุงุทููุงู ุงุฒ ุฏุณุชุฑุณ ุจู MongoDB

2. **ุฎุทุง CORS:**
   - ุจุฑุฑุณ ุชูุธูุงุช CORS ุฏุฑ ฺฉุฏ
   - ุงุถุงูู ฺฉุฑุฏู ุฏุงููู ุฌุฏุฏ ุจู allowedOrigins

3. **ูุดฺฉู ุฏุฑ ุงุฑุณุงู ูพุงูฺฉ:**
   - ุจุฑุฑุณ ุตุญุช API Key
   - ุจุฑุฑุณ ุดูุงุฑู ุฎุท ู ุดูุงุฑูโูุง ููุตุฏ

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุชุญุช ูุฌูุฒ ISC ููุชุดุฑ ุดุฏู ุงุณุช.

## ๐ค ูุดุงุฑฺฉุช

ุจุฑุง ูุดุงุฑฺฉุช ุฏุฑ ูพุฑูฺู:

1. Fork ฺฉุฑุฏู repository
2. ุงุฌุงุฏ branch ุฌุฏุฏ
3. ุงุนูุงู ุชุบุฑุงุช
4. ุงุฑุณุงู Pull Request

## ๐ ูพุดุชุจุงู

ุจุฑุง ฺฏุฒุงุฑุด ุจุงฺฏ ุง ุฏุฑุฎูุงุณุช ูฺฺฏ ุฌุฏุฏุ ูุทูุงู issue ุฌุฏุฏ ุงุฌุงุฏ ฺฉูุฏ.

---

**ุชูุณุนูโุฏููุฏู:** ุชู ุชูุณุนู ุฑุงุณุง ู ุณุงูุงุฑ  
**ูุณุฎู:** 1.0.0  
**ุขุฎุฑู ุจุฑูุฒุฑุณุงู:** 1404