import{y as q,u as dt,r as j,B as y,k as ct,c as n,a as t,j as m,h as g,t as l,d,F as h,p as k,m as u,e as A,E as mt,o as a,q as N}from"./index-B1RxePN7.js";import{S as E}from"./constants-CFvVWKro.js";import{d as f}from"./dateUtils-KBV2qcdl.js";import{P as H}from"./PersianDatePicker-DEF6n3RS.js";import{S as P}from"./SimpleChart-JDhmnGq3.js";import{_ as $,a as _}from"./EmptyState-8_rENw_2.js";const ut={async getDashboardStats(F={}){return(await q.get("/dashboard/stats",{params:F})).data},async getTrends(F="daily",w={}){return(await q.get("/dashboard/trends",{params:{period:F,...w}})).data}},xt={class:"space-y-12"},pt={class:"card card-glass relative overflow-hidden p-8 lg:p-10"},bt={class:"relative flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between"},gt={class:"space-y-4"},ft={class:"text-3xl font-black text-smoke-900 md:text-4xl"},vt={class:"gradient-text"},yt={key:0,class:"flex flex-wrap items-center gap-3 text-xs text-smoke-500"},ht={key:0,class:"pill"},kt={key:1,class:"pill"},_t={class:"w-full max-w-sm rounded-3xl border border-white/40 bg-white/40 p-6 text-left shadow-inner backdrop-blur-xl"},wt={class:"mt-3 text-3xl font-bold text-smoke-900 md:text-4xl"},Ct={class:"mt-4 text-sm text-smoke-500"},Dt={class:"font-semibold text-brand-600"},St={key:0,class:"card card-muted"},jt={class:"grid grid-cols-1 gap-4 md:grid-cols-3"},Ft={key:0,class:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4"},Rt={key:1,class:"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4"},Bt={class:"relative flex flex-col gap-6"},Nt={class:"flex items-start justify-between"},Pt={class:"space-y-2"},Tt={class:"text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"},Vt={class:"text-4xl font-black text-smoke-900"},At={key:0,class:"text-xs font-medium text-smoke-500"},Et={key:1,class:"space-y-6"},$t={key:0,class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Mt={key:1,class:"space-y-6"},It={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},Ot={class:"card card-glass"},Kt={key:0},Ut={class:"card card-glass"},Yt={key:0},zt={class:"card card-glass"},Gt={key:0},Jt={class:"card card-glass"},Lt={key:0},Wt={class:"grid grid-cols-1 gap-6 lg:grid-cols-2"},qt={class:"card"},Ht={class:"space-y-4"},Qt={class:"flex items-center justify-between rounded-2xl border border-white/40 bg-white/70 p-4 shadow-inner"},Xt={class:"text-2xl font-bold text-brand-600"},Zt={class:"flex items-center justify-between rounded-2xl border border-white/40 bg-white/70 p-4 shadow-inner"},te={class:"text-2xl font-bold text-emerald-600"},ee={class:"card table-container"},se={key:0,class:"overflow-x-auto"},oe={class:"table"},ae={class:"px-6 py-4 text-sm font-semibold text-smoke-700"},ne={class:"px-6 py-4 text-sm text-smoke-600"},le={class:"px-6 py-4 text-sm text-smoke-600"},re={class:"px-6 py-4 text-sm font-semibold text-brand-600"},ie={class:"space-y-4"},de={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},ce={class:"relative flex h-full flex-col gap-4"},me={class:"inline-flex h-12 w-12 items-center justify-center rounded-2xl bg-white/85 text-2xl shadow-inner"},ue={class:"space-y-2"},xe={class:"text-lg font-bold text-smoke-900"},pe={class:"text-sm text-smoke-500"},be={class:"space-y-4"},ge={class:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},fe={key:2,class:"table-container"},ve={class:"table"},ye={key:0,class:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"},he={class:"px-6 py-4 text-sm font-semibold text-smoke-700"},ke={key:0,class:"px-6 py-4 text-sm text-brand-600"},_e=["href"],we={class:"px-6 py-4 text-sm text-smoke-600"},Ce={class:"px-6 py-4 text-sm"},De={class:"px-6 py-4 text-sm text-smoke-600"},Se={class:"px-6 py-4 text-sm"},Te={__name:"Dashboard",setup(F){const w={brand:{gradient:"bg-gradient-to-br from-brand-200/40 via-white/45 to-brand-100/55",iconClass:"bg-gradient-to-br from-brand-500 via-iris-500 to-teal-500 text-white shadow-glow"},iris:{gradient:"bg-gradient-to-br from-iris-200/40 via-white/45 to-iris-100/55",iconClass:"bg-gradient-to-br from-iris-500 via-brand-500 to-iris-600 text-white shadow-soft"},amber:{gradient:"bg-gradient-to-br from-warning-200/35 via-white/45 to-warning-100/60",iconClass:"bg-gradient-to-br from-warning-500 via-warning-400 to-warning-500 text-white shadow-soft"},emerald:{gradient:"bg-gradient-to-br from-success-200/35 via-white/45 to-success-100/55",iconClass:"bg-gradient-to-br from-success-500 via-teal-500 to-success-600 text-white shadow-soft"}},M=[{key:"total",title:"Ú©Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§",icon:"ðŸ“Š",tone:"brand"},{key:"open",title:"Ø¨Ø§Ø²",icon:"ðŸ†•",tone:"iris",extraKey:"openShare"},{key:"inProgress",title:"Ø¯Ø± Ø­Ø§Ù„ Ø§Ù†Ø¬Ø§Ù…",icon:"â³",tone:"amber",extraKey:"inProgressShare"},{key:"completed",title:"Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡",icon:"âœ…",tone:"emerald",extraKey:"completionRate"}],Q=[{to:"/requests/create",icon:"âž•",title:"Ø«Ø¨Øª Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¬Ø¯ÛŒØ¯",description:"Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù…Ø´ØªØ±ÛŒ ÛŒØ§ Ù‡Ù…Ú©Ø§Ø± Ø«Ø¨Øª Ú©Ù†ÛŒØ¯.",gradient:"bg-gradient-to-br from-brand-500/18 via-iris-500/15 to-teal-500/18"},{to:"/requests",icon:"ðŸ“‹",title:"Ù…Ø¯ÛŒØ±ÛŒØª Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§",description:"Ù„ÛŒØ³Øª Ú©Ø§Ù…Ù„ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ Ø¨Ø§ ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡.",gradient:"bg-gradient-to-br from-iris-500/15 via-brand-500/12 to-smoke-100/50"},{to:"/reports",icon:"ðŸ“ˆ",title:"Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§",description:"Ø¯Ø³ØªØ±Ø³ÛŒ Ø³Ø±ÛŒØ¹ Ø¨Ù‡ Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ Ùˆ ØªØ­Ù„ÛŒÙ„ÛŒ.",gradient:"bg-gradient-to-br from-teal-500/18 via-brand-500/12 to-iris-500/20",adminOnly:!0},{to:"/admin",icon:"ðŸ› ï¸",title:"Ú©Ù†ØªØ±Ù„ Ù¾Ù†Ù„ Ù…Ø¯ÛŒØ±ÛŒØª",description:"Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ø§Ø±Ø¨Ø±Ø§Ù†ØŒ Ù…Ø´ØªØ±ÛŒØ§Ù† Ùˆ Ù…ØªØ®ØµØµÛŒÙ† Ø¯Ø± ÛŒÚ©Ø¬Ø§.",gradient:"bg-gradient-to-br from-danger-500/12 via-iris-500/12 to-brand-500/18",adminOnly:!0}],X=dt(),v=j(!1),T=j(null),r=j({summary:{total:0,open:0,inProgress:0,completed:0,completionRate:0,avgResolutionDays:0},bySystem:[],byPriority:[],byStatus:[],byDateRange:[],byAssignee:[],recentRequests:[]}),x=j(""),p=j(""),R=y(()=>X.user),C=y(()=>{var o;return((o=R.value)==null?void 0:o.role)==="admin"}),I=y(()=>r.value.recentRequests||[]),Z=new Intl.NumberFormat("fa-IR",{maximumFractionDigits:0}),tt=new Intl.NumberFormat("fa-IR",{minimumFractionDigits:0,maximumFractionDigits:1}),O=new Intl.NumberFormat("fa-IR",{maximumFractionDigits:0}),B=o=>{const e=Number(o??0);return Number.isFinite(e)?Number.isInteger(e)?Z.format(e):tt.format(e):"Û°"},K=o=>{const e=Number(o??0);return Number.isFinite(e)?`${O.format(e)}Ùª`:"Û°Ùª"},V=(o,e)=>{const i=Number(e??0),b=Number(o??0);if(!i)return"Û°Ùª";const c=Math.round(b/i*100);return`${O.format(c)}Ùª`},et=y(()=>{const o=r.value.summary||{},e=Number(o.total)||0;return M.map(i=>{const b=w[i.tone]??w.brand;let c="";return i.extraKey==="openShare"&&e>0?c=`${V(o.open,e)} Ø§Ø² Ú©Ù„`:i.extraKey==="inProgressShare"&&e>0?c=`${V(o.inProgress,e)} Ø§Ø² Ú©Ù„`:i.extraKey==="completionRate"&&(c=`${K(o.completionRate)} Ù†Ø±Ø® ØªÚ©Ù…ÛŒÙ„`),{...i,extra:c,gradient:b.gradient,iconClass:b.iconClass}})}),st=y(()=>Q.filter(o=>!o.adminOnly||C.value)),ot=y(()=>T.value?f.getRelativeTime(T.value):v.value?"Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ...":"â€”"),at=()=>f.getCurrentJalaliDate(),nt=o=>({[E.OPEN]:"badge badge-info",[E.IN_PROGRESS]:"badge badge-warning",[E.COMPLETED]:"badge badge-success"})[o]||"badge badge-secondary",lt=o=>{if(!o)return"";if(typeof o=="string"&&(/^\d{4}-\d{2}-\d{2}$/.test(o)||/^\d{4}\/\d{2}\/\d{2}$/.test(o))){const e=o.includes("-")?o:o.replace(/\//g,"-");return f.gregorianToJalali(e)}return f.formatDate(o,"jYYYY/jMM/jDD")},rt=o=>o?typeof o=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(o)?f.gregorianToJalali(o).substring(5):o:"",D=async()=>{v.value=!0;try{const o={};C.value&&(x.value&&(o.startDate=f.jalaliToGregorian(x.value)),p.value&&(o.endDate=f.jalaliToGregorian(p.value)));const e=await ut.getDashboardStats(o);e.success&&(r.value=e.data,T.value=new Date)}catch(o){console.error("Error loading dashboard stats:",o)}finally{v.value=!1}},it=()=>{x.value="",p.value="",D()};return ct(async()=>{await D()}),(o,e)=>{var b,c,U,Y,z,G,J,L,W;const i=mt("router-link");return a(),n("div",xt,[t("section",pt,[e[9]||(e[9]=t("span",{class:"pointer-events-none absolute inset-x-1/2 -top-28 h-[320px] w-[320px] -translate-x-1/2 rounded-full bg-gradient-to-r from-brand-400/25 via-iris-400/25 to-teal-400/25 blur-3xl"},null,-1)),t("div",bt,[t("div",gt,[e[4]||(e[4]=t("span",{class:"pill"},"Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯",-1)),t("h1",ft,[e[2]||(e[2]=g(" Ø³Ù„Ø§Ù…ØŒ ",-1)),t("span",vt,l((b=R.value)==null?void 0:b.name),1)]),e[5]||(e[5]=t("p",{class:"max-w-2xl text-sm text-smoke-500 md:text-base"}," ÙˆØ¶Ø¹ÛŒØª Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ Ùˆ Ø¹Ù…Ù„Ú©Ø±Ø¯ ØªÛŒÙ… Ø±Ø§ Ø¯Ø± ÛŒÚ© Ù†Ú¯Ø§Ù‡ Ø¯Ù†Ø¨Ø§Ù„ Ú©Ù†ÛŒØ¯. Ú¯Ø²Ø§Ø±Ø´â€ŒÙ‡Ø§ÛŒ Ø²Ù†Ø¯Ù‡ØŒ Ø±ÙˆÙ†Ø¯Ù‡Ø§ÛŒ Ø§Ø®ÛŒØ± Ùˆ ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ Ù‡Ù…ÛŒØ´Ù‡ Ø¢Ù…Ø§Ø¯Ù‡ Ù‡Ø³ØªÙ†Ø¯. ",-1)),C.value?(a(),n("div",yt,[e[3]||(e[3]=t("span",{class:"inline-flex items-center gap-2 rounded-2xl border border-white/50 bg-white/60 px-3 py-1.5"},[t("svg",{class:"h-4 w-4 text-brand-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.6",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})]),g(" ÙÛŒÙ„ØªØ±Ù‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ ÙØ¹Ø§Ù„ Ø§Ø³Øª ")],-1)),x.value?(a(),n("span",ht,"Ø§Ø² "+l(x.value),1)):m("",!0),p.value?(a(),n("span",kt,"ØªØ§ "+l(p.value),1)):m("",!0)])):m("",!0)]),t("div",_t,[e[8]||(e[8]=t("p",{class:"text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"},"Ø§Ù…Ø±ÙˆØ²",-1)),t("p",wt,l(at()),1),t("p",Ct,[e[6]||(e[6]=g(" Ø¢Ø®Ø±ÛŒÙ† Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ: ",-1)),t("span",Dt,l(ot.value),1)]),t("button",{type:"button",onClick:D,class:"mt-5 inline-flex items-center gap-2 rounded-2xl border border-white/50 bg-white/70 px-4 py-2 text-xs font-semibold text-brand-600 transition-all duration-200 hover:-translate-y-0.5 hover:border-brand-200 hover:bg-white/90"},[...e[7]||(e[7]=[t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.6",d:"M4 4v5h.6M20 20v-5h-.6M5 9a7 7 0 0112.9-2M19 15a7 7 0 01-12.9 2"})],-1),g(" Ø¨Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ ",-1)])])])])]),C.value?(a(),n("section",St,[t("div",jt,[t("div",null,[e[10]||(e[10]=t("label",{class:"label"},"Ø§Ø² ØªØ§Ø±ÛŒØ®",-1)),d(H,{modelValue:x.value,"onUpdate:modelValue":[e[0]||(e[0]=s=>x.value=s),D],placeholder:"1403/01/01"},null,8,["modelValue"])]),t("div",null,[e[11]||(e[11]=t("label",{class:"label"},"ØªØ§ ØªØ§Ø±ÛŒØ®",-1)),d(H,{modelValue:p.value,"onUpdate:modelValue":[e[1]||(e[1]=s=>p.value=s),D],placeholder:"1403/12/29"},null,8,["modelValue"])]),t("div",{class:"flex items-end"},[t("button",{type:"button",class:"btn btn-secondary w-full",onClick:it}," Ø­Ø°Ù ÙÛŒÙ„ØªØ± ØªØ§Ø±ÛŒØ® ")])])])):m("",!0),t("section",null,[e[12]||(e[12]=t("header",{class:"mb-6 flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},[t("div",null,[t("h2",{class:"text-xl font-extrabold text-smoke-900 md:text-2xl"},"Ù†Ù…Ø§ÛŒ Ú©Ù„ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯"),t("p",{class:"text-sm text-smoke-500"},"Ø´Ø§Ø®Øµâ€ŒÙ‡Ø§ÛŒ Ú©Ù„ÛŒØ¯ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ Ùˆ Ù†Ø±Ø® ØªÚ©Ù…ÛŒÙ„ ØªÛŒÙ…")])],-1)),v.value?(a(),n("div",Ft,[(a(),n(h,null,k(4,s=>d($,{key:`stat-skeleton-${s}`,lines:4,tone:"brand",compact:""})),64))])):(a(),n("div",Rt,[(a(!0),n(h,null,k(et.value,s=>{var S;return a(),n("article",{key:s.key,class:"group relative overflow-hidden rounded-3xl border border-white/40 bg-white/85 p-6 shadow-soft transition-all duration-500 ease-spring hover:-translate-y-1 hover:shadow-strong"},[t("span",{class:N(["pointer-events-none absolute inset-0 opacity-80",s.gradient])},null,2),t("div",Bt,[t("div",Nt,[t("div",Pt,[t("span",Tt,l(s.title),1),t("p",Vt,l(B((S=r.value.summary)==null?void 0:S[s.key])),1)]),t("span",{class:N(["flex h-12 w-12 items-center justify-center rounded-2xl text-2xl shadow-inner transition-transform duration-500 group-hover:rotate-6",s.iconClass])},l(s.icon),3)]),s.extra?(a(),n("p",At,l(s.extra),1)):m("",!0)])])}),128))]))]),C.value?(a(),n("section",Et,[e[22]||(e[22]=t("div",{class:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},[t("h2",{class:"text-xl font-extrabold text-smoke-900 md:text-2xl"},"ØªØ­Ù„ÛŒÙ„ Ù…Ø¯ÛŒØ±ÛŒØªÛŒ"),t("p",{class:"text-sm text-smoke-500"},"Ø¬Ø²Ø¦ÛŒØ§Øª ÙˆØ¶Ø¹ÛŒØªØŒ Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ØŒ Ø§ÙˆÙ„ÙˆÛŒØªâ€ŒÙ‡Ø§ Ùˆ Ø±ÙˆÙ†Ø¯ Û³Û° Ø±ÙˆØ²Ù‡")],-1)),v.value?(a(),n("div",$t,[(a(),n(h,null,k(4,s=>d($,{key:`chart-skeleton-${s}`,lines:8,tone:"iris"})),64))])):(a(),n("div",Mt,[t("div",It,[t("div",Ot,[e[13]||(e[13]=t("div",{class:"mb-4 flex items-center justify-between"},[t("h3",{class:"text-lg font-bold text-smoke-900"},"ØªÙˆØ²ÛŒØ¹ ÙˆØ¶Ø¹ÛŒØª")],-1)),(c=r.value.byStatus)!=null&&c.length?(a(),n("div",Kt,[d(P,{type:"doughnut",data:{labels:r.value.byStatus.map(s=>s.name),datasets:[{data:r.value.byStatus.map(s=>s.count),backgroundColor:["#3B82F6","#F59E0B","#10B981"]}]},options:{plugins:{legend:{position:"bottom"}}},height:"250px"},null,8,["data"])])):(a(),u(_,{key:1,title:"Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯",description:"Ù‡ÛŒÚ† Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ ØªÙˆØ²ÛŒØ¹ ÙˆØ¶Ø¹ÛŒØª Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø§Ø²Ù‡ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯."}))]),t("div",Ut,[e[14]||(e[14]=t("div",{class:"mb-4 flex items-center justify-between"},[t("h3",{class:"text-lg font-bold text-smoke-900"},"ØªÙˆØ²ÛŒØ¹ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø³ÛŒØ³ØªÙ…")],-1)),(U=r.value.bySystem)!=null&&U.length?(a(),n("div",Yt,[d(P,{type:"pie",data:{labels:r.value.bySystem.map(s=>s.name),datasets:[{data:r.value.bySystem.map(s=>s.count),backgroundColor:["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#EC4899","#06B6D4"]}]},options:{plugins:{legend:{position:"bottom"}}},height:"250px"},null,8,["data"])])):(a(),u(_,{key:1,title:"Ø¯Ø§Ø¯Ù‡â€ŒØ§ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡",description:"Ú¯Ø²Ø§Ø±Ø´ÛŒ Ø§Ø² Ø³ÛŒØ³ØªÙ…â€ŒÙ‡Ø§ÛŒ Ù…ÙˆØ±Ø¯ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø¯Ø± Ø¨Ø§Ø²Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯."}))]),t("div",zt,[e[15]||(e[15]=t("div",{class:"mb-4 flex items-center justify-between"},[t("h3",{class:"text-lg font-bold text-smoke-900"},"ØªÙˆØ²ÛŒØ¹ Ø§ÙˆÙ„ÙˆÛŒØª")],-1)),(Y=r.value.byPriority)!=null&&Y.length?(a(),n("div",Gt,[d(P,{type:"bar",data:{labels:r.value.byPriority.map(s=>s.name),datasets:[{label:"ØªØ¹Ø¯Ø§Ø¯",data:r.value.byPriority.map(s=>s.count),backgroundColor:["#10B981","#F59E0B","#F97316","#EF4444"]}]},options:{indexAxis:"y",plugins:{legend:{display:!1}}},height:"200px"},null,8,["data"])])):(a(),u(_,{key:1,title:"Ù‡Ù†ÙˆØ² Ø§ÙˆÙ„ÙˆÛŒØªÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡",description:"Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø§ÛŒÙ† Ù†Ù…ÙˆØ¯Ø§Ø±ØŒ Ø¨Ø§ÛŒØ¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ø¨Ø§ Ø§ÙˆÙ„ÙˆÛŒØªâ€ŒÙ‡Ø§ÛŒ Ù…Ø®ØªÙ„Ù Ø«Ø¨Øª Ø´Ø¯Ù‡ Ø¨Ø§Ø´Ø¯."}))]),t("div",Jt,[e[16]||(e[16]=t("div",{class:"mb-4 flex items-center justify-between"},[t("h3",{class:"text-lg font-bold text-smoke-900"},"Ø±ÙˆÙ†Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ (Û³Û° Ø±ÙˆØ² Ø§Ø®ÛŒØ±)")],-1)),(z=r.value.byDateRange)!=null&&z.length?(a(),n("div",Lt,[d(P,{type:"line",data:{labels:r.value.byDateRange.slice(-10).map(s=>rt(s.date)),datasets:[{label:"ØªØ¹Ø¯Ø§Ø¯ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§",data:r.value.byDateRange.slice(-10).map(s=>s.count),borderColor:"#3B82F6",backgroundColor:"rgba(59,130,246,0.1)",tension:.4,fill:!0}]},options:{plugins:{legend:{display:!1}}},height:"250px"},null,8,["data"])])):(a(),u(_,{key:1,title:"Ø±ÙˆÙ†Ø¯ÛŒ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ÛŒØ³Øª",description:"Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø±ÙˆÙ†Ø¯ØŒ Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø§Ø²Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."}))])]),t("div",Wt,[t("div",qt,[e[19]||(e[19]=t("h3",{class:"mb-4 text-lg font-bold text-smoke-900"},"Ù…Ø¹ÛŒØ§Ø±Ù‡Ø§ÛŒ Ø¹Ù…Ù„Ú©Ø±Ø¯",-1)),t("div",Ht,[t("div",Qt,[e[17]||(e[17]=t("span",{class:"text-sm font-medium text-smoke-600"},"Ù†Ø±Ø® ØªÚ©Ù…ÛŒÙ„",-1)),t("span",Xt,l(K((G=r.value.summary)==null?void 0:G.completionRate)),1)]),t("div",Zt,[e[18]||(e[18]=t("span",{class:"text-sm font-medium text-smoke-600"},"Ù…ÛŒØ§Ù†Ú¯ÛŒÙ† Ø²Ù…Ø§Ù† Ø­Ù„ (Ø±ÙˆØ²)",-1)),t("span",te,l(B((J=r.value.summary)==null?void 0:J.avgResolutionDays)),1)])])]),t("div",ee,[e[21]||(e[21]=t("h3",{class:"mb-4 text-lg font-bold text-smoke-900"},"Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø§Ø®ØªØµØ§Øµâ€ŒÛŒØ§ÙØªÚ¯Ø§Ù†",-1)),(L=r.value.byAssignee)!=null&&L.length?(a(),n("div",se,[t("table",oe,[e[20]||(e[20]=t("thead",null,[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"}," Ù†Ø§Ù… "),t("th",{class:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"}," Ú©Ù„ "),t("th",{class:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"}," Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡ "),t("th",{class:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"}," Ù†Ø±Ø® ØªÚ©Ù…ÛŒÙ„ ")])],-1)),t("tbody",null,[(a(!0),n(h,null,k(r.value.byAssignee,s=>(a(),n("tr",{key:s.userId,class:"transition-colors duration-200 hover:bg-brand-50/40"},[t("td",ae,l(s.name),1),t("td",ne,l(B(s.total)),1),t("td",le,l(B(s.completed)),1),t("td",re,l(V(s.completed,s.total)),1)]))),128))])])])):(a(),u(_,{key:1,title:"Ù‡ÛŒÚ† ØªØ®ØµÛŒØµÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡",description:"Ø¨Ø±Ø§ÛŒ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ø¹Ù…Ù„Ú©Ø±Ø¯ Ù…Ø³Ø¦ÙˆÙ„ÛŒÙ†ØŒ Ø§Ø¨ØªØ¯Ø§ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒÛŒ Ø±Ø§ Ø¨Ù‡ Ø¢Ù†â€ŒÙ‡Ø§ Ø§Ø®ØªØµØ§Øµ Ø¯Ù‡ÛŒØ¯."}))])])]))])):m("",!0),t("section",ie,[e[24]||(e[24]=t("div",{class:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between"},[t("div",null,[t("h2",{class:"text-xl font-extrabold text-smoke-900 md:text-2xl"},"Ø¹Ù…Ù„ÛŒØ§Øª Ø³Ø±ÛŒØ¹"),t("p",{class:"text-sm text-smoke-500"},"Ù…ÛŒØ§Ù†Ø¨Ø±Ù‡Ø§ÛŒÛŒ Ø¨Ø±Ø§ÛŒ Ø§Ù‚Ø¯Ø§Ù…Ø§Øª Ù¾Ø±ØªÚ©Ø±Ø§Ø± Ø±ÙˆØ²Ø§Ù†Ù‡")])],-1)),t("div",de,[(a(!0),n(h,null,k(st.value,s=>(a(),u(i,{key:s.to,to:s.to,class:"group relative overflow-hidden rounded-3xl border border-white/40 bg-white/75 p-6 shadow-soft transition-all duration-500 ease-spring hover:-translate-y-1 hover:shadow-strong"},{default:A(()=>[t("span",{class:N(["pointer-events-none absolute inset-0 opacity-80",s.gradient])},null,2),t("div",ce,[t("span",me,l(s.icon),1),t("div",ue,[t("h3",xe,l(s.title),1),t("p",pe,l(s.description),1)]),e[23]||(e[23]=t("span",{class:"mt-auto inline-flex items-center gap-2 text-xs font-semibold text-brand-600"},[g(" Ø´Ø±ÙˆØ¹ Ú©Ù†ÛŒØ¯ "),t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.6",d:"M9 5l7 7-7 7"})])],-1))])]),_:2},1032,["to"]))),128))])]),t("section",be,[t("div",ge,[e[26]||(e[26]=t("div",null,[t("h2",{class:"text-xl font-extrabold text-smoke-900 md:text-2xl"},"Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ø®ÛŒØ±"),t("p",{class:"text-sm text-smoke-500"},"Ø¢Ø®Ø±ÛŒÙ† ÙØ¹Ø§Ù„ÛŒØªâ€ŒÙ‡Ø§ Ùˆ Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§ÛŒ Ø«Ø¨Øªâ€ŒØ´Ø¯Ù‡")],-1)),d(i,{to:"/requests",class:"btn btn-ghost"},{default:A(()=>[...e[25]||(e[25]=[g(" Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ù‡Ù…Ù‡ ",-1)])]),_:1})]),v.value?(a(),u($,{key:0,lines:6,tone:"brand"})):I.value.length===0?(a(),u(_,{key:1,title:"Ø¯Ø±Ø®ÙˆØ§Ø³ØªÛŒ ÛŒØ§ÙØª Ù†Ø´Ø¯",description:"Ù‡ÛŒÚ† Ø¯Ø±Ø®ÙˆØ§Ø³Øª ØªØ§Ø²Ù‡â€ŒØ§ÛŒ Ø¯Ø± Ø§ÛŒÙ† Ø¨Ø§Ø²Ù‡ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª."})):(a(),n("div",fe,[t("table",ve,[t("thead",null,[t("tr",null,[e[27]||(e[27]=t("th",{class:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"}," Ù…Ø´ØªØ±ÛŒ ",-1)),((W=R.value)==null?void 0:W.role)!=="customer"?(a(),n("th",ye," ØªÙ…Ø§Ø³ ")):m("",!0),e[28]||(e[28]=t("th",{class:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"}," Ø³ÛŒØ³ØªÙ… ",-1)),e[29]||(e[29]=t("th",{class:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"}," ÙˆØ¶Ø¹ÛŒØª ",-1)),e[30]||(e[30]=t("th",{class:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"}," ØªØ§Ø±ÛŒØ® ",-1)),e[31]||(e[31]=t("th",{class:"px-6 py-3 text-right text-xs font-semibold uppercase tracking-[0.35em] text-smoke-400"}," Ø¹Ù…Ù„ÛŒØ§Øª ",-1))])]),t("tbody",null,[(a(!0),n(h,null,k(I.value,s=>{var S;return a(),n("tr",{key:s._id,class:"transition-colors duration-200 hover:bg-brand-50/40"},[t("td",he,l(s.customerName),1),((S=R.value)==null?void 0:S.role)!=="customer"?(a(),n("td",ke,[t("a",{href:`tel:${s.customerPhone}`,class:"font-semibold hover:text-brand-700"},l(s.customerPhone||"â€”"),9,_e)])):m("",!0),t("td",we,l(s.system||"â€”"),1),t("td",Ce,[t("span",{class:N(nt(s.status))},l(s.status||"Ù†Ø§Ù…Ø´Ø®Øµ"),3)]),t("td",De,l(lt(s.date)),1),t("td",Se,[d(i,{to:`/requests/${s._id}`,class:"inline-flex items-center gap-1 rounded-xl border border-brand-200/70 px-3 py-1 text-xs font-semibold text-brand-600 transition-all duration-200 hover:bg-brand-50/60"},{default:A(()=>[...e[32]||(e[32]=[g(" Ù…Ø´Ø§Ù‡Ø¯Ù‡ ",-1),t("svg",{class:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.6",d:"M9 5l7 7-7 7"})],-1)])]),_:1},8,["to"])])])}),128))])])]))])])}}};export{Te as default};
